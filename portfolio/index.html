<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portfolio</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <h1>My Portfolio</h1>
    <nav>
        <ul id="filterButtons">
            <li><button class="active" data-filter="all">All</button></li>
            <li><button data-filter="web">Web</button></li>
            <li><button data-filter="mobile">Mobile</button></li>
            <li><button data-filter="design">Design</button></li>
        </ul>
    </nav>
</header>

<main id="projects">
    <!-- Projects will be dynamically added here from the database -->
</main>

<script>
    // Function to display project details
    function displayProjectDetails(projectId) {
        // Fetch project details from the server based on projectId
        fetch('fetch_project_details.php?id=' + projectId)
            .then(response => response.json())
            .then(project => {
                // Find the project container
                const projectContainer = document.querySelector(`[data-project="${projectId}"]`);
                // Create a div to hold project details
                const detailsDiv = document.createElement('div');
                detailsDiv.classList.add('project-details');
                detailsDiv.innerHTML = `
                    <h2>${project.title}</h2>
                    <p>${project.description}</p>
                    <p>Category: ${project.category}</p>
                    <!-- Add more details as needed -->
                `;
                // Append detailsDiv below the project container
                projectContainer.parentNode.insertBefore(detailsDiv, projectContainer.nextSibling);
            })
            .catch(error => console.error('Error fetching project details:', error));
    }

    // Fetch projects from the server and dynamically add them to the page
    fetch('fetch_projects.php')
        .then(response => response.json())
        .then(projects => {
            const projectsContainer = document.getElementById('projects');
            projects.forEach(project => {
                const projectHTML = `
                    <div class="project" data-project="${project.id}">
                        <img src="img/${project.photo}" alt="${project.title}">
                        <h3>${project.title}</h3>
                        <button class="viewBtn" onclick="displayProjectDetails(${project.id})">View Details</button>
                    </div>
                `;
                projectsContainer.innerHTML += projectHTML;
            });
        })
        .catch(error => console.error('Error fetching projects:', error));
</script>

</body>
</html>
